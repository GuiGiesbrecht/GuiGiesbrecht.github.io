<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste de Formul√°rio Nativo HubSpot</title>

    <!-- Start of HubSpot Embed Code -->
    <script
      type="text/javascript"
      id="hs-script-loader"
      async
      defer
      src="//js.hs-scripts.com/50600667.js"
    ></script>
    <!-- End of HubSpot Embed Code -->

    <style>
      /* Apenas para ficar um pouco mais organizado */
      body {
        font-family: sans-serif;
        margin: 20px;
        background: #f9f9f9;
      }
      form {
        background: #fff;
        border: 1px solid #ccc;
        padding: 25px;
        border-radius: 8px;
      }
      div {
        margin-bottom: 15px;
      }
      label {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
      }
      input {
        width: 300px;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
      }
      button {
        background: #ff7a59;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h1>Formul√°rio de Contato (Nativo)</h1>
    <p>
      Este formul√°rio usa apenas o tracking code do HubSpot, sem JavaScript
      customizado.
    </p>

    <form id="contactForm">
      <div>
        <label for="email">Email:*</label>
        <input type="email" id="email" name="email" required />
      </div>

      <div>
        <label for="firstname">Nome:</label>
        <input type="text" id="firstname" name="firstname" />
      </div>

      <div>
        <label for="lastname">Sobrenome:</label>
        <input type="text" id="lastname" name="lastname" />
      </div>

      <div>
        <label>Zona Rural:*</label>
        <div style="display: flex; gap: 20px; margin-top: 8px">
          <label
            style="
              display: flex;
              align-items: center;
              gap: 5px;
              font-weight: normal;
            "
          >
            <input
              type="radio"
              id="zona_rural_sim"
              name="zona_rural"
              value="true"
              required
            />
            Sim
          </label>
          <label
            style="
              display: flex;
              align-items: center;
              gap: 5px;
              font-weight: normal;
            "
          >
            <input
              type="radio"
              id="zona_rural_nao"
              name="zona_rural"
              value="false"
            />
            N√£o
          </label>
        </div>
      </div>

      <button type="submit">Enviar</button>
      
      <div style="text-align: center; margin-top: 20px;">
        <a href="index.html" style="color: #ff7a59; text-decoration: none; font-weight: bold;">‚Üê Voltar</a>
      </div>
    </form>

    <div
      id="successMessage"
      style="
        display: none;
        margin-top: 20px;
        padding: 15px;
        background: #d4edda;
        border: 1px solid #c3e6cb;
        border-radius: 4px;
        color: #155724;
      "
    >
      ‚úÖ Formul√°rio enviado com sucesso!
    </div>

    <script>
      // Inicializar _hsq
      window._hsq = window._hsq || [];

      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("contactForm");
        const successMessage = document.getElementById("successMessage");

        form.addEventListener("submit", function (event) {
          event.preventDefault();

          console.log("üìù Formul√°rio submetido");

          // Capturar os dados do formul√°rio
          const email = document.getElementById("email").value;
          const firstname = document.getElementById("firstname").value;
          const lastname = document.getElementById("lastname").value;
          const zonaRuralRadio = document.querySelector(
            'input[name="zona_rural"]:checked'
          );
          const zonaRural = zonaRuralRadio ? zonaRuralRadio.value : null;

          // Montar objeto com os dados para o HubSpot
          const hubspotData = {
            email: email,
            firstname: firstname,
            lastname: lastname,
            zona_rural: zonaRural,
            phone: "+5541999999999",
          };

          console.log("üìä Dados capturados:", hubspotData);

          // Envia manualmente para o HubSpot usando identify
          if (window._hsq) {
            try {
              window._hsq.push(["identify", hubspotData]);

              console.log("‚úÖ Dados enviados para HubSpot via identify");

              // Rastrear visualiza√ß√£o de p√°gina
              window._hsq.push(["trackPageView"]);
              console.log("‚úÖ trackPageView enviado");

              // Mostrar mensagem de sucesso
              successMessage.style.display = "block";

              // Resetar formul√°rio ap√≥s 3 segundos
              setTimeout(() => {
                form.reset();
                successMessage.style.display = "none";
              }, 3000);
            } catch (error) {
              console.error("‚ùå Erro ao enviar dados para HubSpot:", error);
            }
          } else {
            console.error(
              "‚ùå HubSpot tracking code (_hsq) n√£o est√° dispon√≠vel!"
            );
          }
        });
      });

      // Log para confirmar que o tracking code carregou
      window.addEventListener("load", () => {
        console.log("‚úÖ P√°gina carregada");
        console.log(
          "‚úÖ HubSpot tracking code dispon√≠vel:",
          typeof window._hsq !== "undefined"
        );
      });
    </script>
  </body>
</html>
